{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addToBasket } from \"../ReduxToolkit/addToBasketReducer\";\nimport { removeFromBasket } from \"../ReduxToolkit/addToBasketReducer\";\nimport { selectedProduct } from \"../ReduxToolkit/selectedProductsReducer\";\nimport { removeSelectedProduct } from \"../ReduxToolkit/selectedProductsReducer\";\nimport Header from \"../Components/Header\";\nimport { Button, Container, Row, Col, Image, Badge, Card, Form } from \"react-bootstrap\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = () => {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const product = useSelector(state => state.product.products.find(p => p.id === parseInt(productId)));\n  const dispatch = useDispatch();\n  const handleAddToBasket = () => {\n    dispatch(addToBasket(product));\n  };\n  const handleRemoveFromBasket = () => {\n    dispatch(removeFromBasket(product.id));\n  };\n  const navigate = useNavigate();\n  const handleNavigate = () => {\n    navigate(\"/basket\");\n  };\n  const productInBasket = useSelector(state => state.addToBasket.addedProducts.find(item => item.id === product.id));\n  const quantity = productInBasket ? productInBasket.quantity : 0;\n  useEffect(() => {\n    const fetchProductDetail = async id => {\n      const response = await axios.get(`https://fakestoreapi.com/products/${id}`).catch(err => {\n        console.log(\"Err: \", err);\n      });\n      dispatch(selectedProduct(response.data));\n    };\n    if (productId && productId !== \"\") fetchProductDetail(productId);\n    return () => {\n      dispatch(removeSelectedProduct());\n    };\n  }, [productId, dispatch]);\n  const {\n    image,\n    title,\n    price,\n    category,\n    rating\n  } = product;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(ProductDetails, \"2FHr9ewKclE1mXWp5yO/+ap3BzY=\", false, function () {\n  return [useParams, useSelector, useDispatch, useNavigate, useSelector];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","useEffect","axios","useParams","useNavigate","useSelector","useDispatch","addToBasket","removeFromBasket","selectedProduct","removeSelectedProduct","Header","Button","Container","Row","Col","Image","Badge","Card","Form","Fragment","_Fragment","jsxDEV","_jsxDEV","ProductDetails","_s","productId","product","state","products","find","p","id","parseInt","dispatch","handleAddToBasket","handleRemoveFromBasket","navigate","handleNavigate","productInBasket","addedProducts","item","quantity","fetchProductDetail","response","get","catch","err","console","log","data","image","title","price","category","rating","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/E-commerce/bootstrap-react-redux-tkt/src/Pages/ProductDetails.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addToBasket } from \"../ReduxToolkit/addToBasketReducer\";\r\nimport { removeFromBasket } from \"../ReduxToolkit/addToBasketReducer\";\r\nimport { selectedProduct } from \"../ReduxToolkit/selectedProductsReducer\";\r\nimport { removeSelectedProduct } from \"../ReduxToolkit/selectedProductsReducer\";\r\n\r\nimport Header from \"../Components/Header\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Image,\r\n  Badge,\r\n  Card,\r\n  Form,\r\n} from \"react-bootstrap\";\r\n\r\nconst ProductDetails = () => {\r\n  const { productId } = useParams();\r\n  const product = useSelector((state) =>\r\n    state.product.products.find((p) => p.id === parseInt(productId))\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const handleAddToBasket = () => {\r\n    dispatch(addToBasket(product));\r\n  };\r\n\r\n  const handleRemoveFromBasket = () => {\r\n    dispatch(removeFromBasket(product.id));\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const handleNavigate = () => {\r\n    navigate(\"/basket\");\r\n  };\r\n\r\n  const productInBasket = useSelector((state) =>\r\n    state.addToBasket.addedProducts.find((item) => item.id === product.id)\r\n  );\r\n  const quantity = productInBasket ? productInBasket.quantity : 0;\r\n\r\n  useEffect(() => {\r\n    const fetchProductDetail = async (id) => {\r\n      const response = await axios\r\n        .get(`https://fakestoreapi.com/products/${id}`)\r\n        .catch((err) => {\r\n          console.log(\"Err: \", err);\r\n        });\r\n      dispatch(selectedProduct(response.data));\r\n    };\r\n\r\n    if (productId && productId !== \"\") fetchProductDetail(productId);\r\n\r\n    return () => {\r\n      dispatch(removeSelectedProduct());\r\n    };\r\n  }, [productId, dispatch]);\r\n\r\n  const { image, title, price, category, rating } = product;\r\n\r\n  return (\r\n    <>\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}